<!-- index.html -->
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyYOLO - 視覺化機器學習教學平台</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>EasyYOLO 視覺化機器學習教學平台</h1>
            <p class="tagline">用10張照片，10分鐘訓練自己的AI模型</p>
        </div>
    </header>

    <div class="container">
        <!-- 工作流程 -->
        <div class="workflow" id="workflow">
            <div class="workflow-step active" data-step="1">
                <div class="step-number">1</div>
                <h3>上傳照片</h3>
                <p>上傳10張物件照片</p>
            </div>
            <div class="workflow-step" data-step="2">
                <div class="step-number">2</div>
                <h3>標註物件</h3>
                <p>智慧標註工具</p>
            </div>
            <div class="workflow-step" data-step="3">
                <div class="step-number">3</div>
                <h3>視覺化訓練</h3>
                <p>AI學習動畫</p>
            </div>
            <div class="workflow-step" data-step="4">
                <div class="step-number">4</div>
                <h3>即時測試</h3>
                <p>攝影機測試</p>
            </div>
        </div>

        <!-- 步驟容器 -->
        <div id="step1" class="step-content" style="display: block;">
            <div class="upload-area" id="uploadArea">
                <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                </svg>
                <h3>拖曳或點擊上傳照片</h3>
                <p>至少上傳10張 JPG/PNG 照片</p>
                <input type="file" id="fileInput" accept="image/*" multiple style="display: none;">
            </div>
            <div class="image-preview" id="imagePreview"></div>
            <button class="button next-btn" id="nextStep1" style="display: none;">下一步</button>
        </div>

        <div id="step2" class="step-content">
            <h2>標註工具</h2>
            <div class="annotation-controls">
                <label>物件名稱：</label>
                <input type="text" id="objectName" value="物件">
            </div>
            <canvas id="annotationCanvas" class="annotation-canvas"></canvas>
            <div class="image-nav">
                <button class="button" id="prevImage">上一張</button>
                <span id="imageCounter">1/10</span>
                <button class="button" id="nextImage">下一張</button>
            </div>
            <button class="button next-btn" id="nextStep2">下一步</button>
        </div>

        <div id="step3" class="step-content">
            <h2>視覺化訓練</h2>
            <div class="training-visualizer">
                <canvas id="visualizerCanvas"></canvas>
                <canvas id="chartCanvas"></canvas>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p id="trainingStatus">準備開始訓練...</p>
            </div>
            <button class="button" id="startTraining">開始訓練</button>
            <button class="button next-btn" id="nextStep3" style="display: none;">下一步</button>
        </div>

        <div id="step4" class="step-content">
            <h2>即時測試</h2>
            <div id="video-container">
                <video id="webcam" autoplay playsinline></video>
                <canvas id="detectionCanvas"></canvas>
            </div>
            <div class="video-controls">
                <button class="button" id="startWebcam">開啟攝影機</button>
                <button class="button" id="stopWebcam" style="display: none;">停止</button>
            </div>
            <div class="result-container">
                <h3>偵測結果</h3>
                <div id="detectionResults">等待偵測...</div>
            </div>
            <button class="button" id="exportModel">匯出模型</button>
        </div>
    </div>

    <script src="lib/tfjs.min.js"></script>
    <script src="lib/yolo.min.js"></script>
    <script src="app.js"></script>
    <script src="visualizer.js"></script>
    <script src="annotator.js"></script>
</body>
</html>