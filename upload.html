<!-- upload.html (重構版) -->
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>上傳檔案 - 南臺科技大學AI視覺訓練平台</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="upload.css">
</head>
<body>

  <!-- 側邊欄 -->
  <div class="sidebar">
    <div class="sidebar-header">南臺科技大學AI視覺訓練平台</div>
    <ul class="sidebar-menu">
      <li data-view="1120"><span><i class="fas fa-user-friends"></i> 1120</span><span>&gt;</span></li>
      <li data-view="public-projects"><span>公共計畫</span><span>&gt;</span></li>
      <li id="projects-link" data-view="projects" class="active"><span><i class="fas fa-project-diagram"></i> 專案</span></li>
      <li id="workflows-link" data-view="workflows"><span><i class="fas fa-cogs"></i> 工作流</span></li>
      <li data-view="coming-soon"><span><i class="fas fa-chart-line"></i> 監控</span></li>
      <li data-view="coming-soon"><span><i class="fas fa-rocket"></i> 部署</span></li>
      <li data-view="coming-soon"><span><i class="fas fa-compass"></i> 探索</span></li>
      <li id="settings-toggle" data-popup="settings-popup"><span><i class="fas fa-cog"></i> 設定</span><span>&gt;</span></li>
    </ul>

    <div class="sidebar-footer">
      <div class="user-info" data-popup="account-menu">
        <div class="user-avatar" id="user-avatar" style="width: 40px !important; height: 40px !important; border-radius: 50% !important; min-width: 40px !important; max-width: 40px !important;">測</div>
        <div>
          <div id="user-name"><strong>測試帳戶</strong></div>
          <div id="user-email">test@demo.com</div>
        </div>
      </div>
      <div id="account-menu">
        <div><strong id="menu-username">測試帳戶</strong></div>
        <div id="menu-email">test@demo.com</div>
        <hr>
        <div class="show-coming-soon">⚙ 我的帳戶</div>
        <div class="show-coming-soon">🗂 工作區管理</div>
        <div class="show-coming-soon">💳 訂閱方案</div>
        <div class="show-coming-soon">📊 使用紀錄</div>
        <div onclick="logout()">⇦ 登出</div>
      </div>
    </div>
  </div>

  <div id="settings-popup" class="settings-popup">
    <div class="popup-title">工作區設定</div>
    <div class="show-coming-soon">🧾 訂閱方案與帳單</div>
    <div class="show-coming-soon">💰 點數使用情況</div>
    <div class="show-coming-soon">👥 使用者管理</div>
    <div class="show-coming-soon">🔑 API 金鑰</div>
  </div>

  <!-- 主內容 -->
  <main class="main-content">
    <div class="upload-container">
      <div class="upload-header">
        <h1><i class="fas fa-cloud-upload-alt"></i> 上傳</h1>
      </div>

      <!-- 上傳批次名稱 -->
      <div class="batch-name-container">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">批次名稱：</label>
            <input type="text" class="form-control" value="上傳於 05/18/25 at 11:34 pm" readonly>
          </div>
          <div class="form-group">
            <label class="form-label">標籤： <i class="fas fa-info-circle info-icon" title="為上傳的圖像添加標籤，便於分類和搜索"></i></label>
            <input type="text" class="form-control" placeholder="輸入標籤關鍵字...">
          </div>
        </div>
      </div>

      <!-- 檔案拖放區域 -->
      <div class="upload-area" id="upload-area">
        <svg class="upload-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20z"></path>
          <path d="M12 16V8"></path>
          <path d="M8 12l4-4 4 4"></path>
        </svg>
        <div class="upload-title">拖曳檔案至此上傳</div>
        <p class="upload-text">或者</p>
        
        <div class="btn-row">
          <label class="file-btn" id="select-file-btn">
            <i class="fas fa-file"></i> 選擇檔案
          </label>
          <label class="file-btn" id="select-folder-btn">
            <i class="fas fa-folder"></i> 選擇資料夾
          </label>
        </div>
        <input type="file" id="file-input" multiple accept="image/*">
        <input type="file" id="folder-input" webkitdirectory directory multiple>
        
        <!-- 檔案列表區域 -->
        <div class="file-list" id="file-list"></div>
      </div>

      <!-- 支援格式說明 -->
      <div class="format-section">
        <div class="format-title">支援的格式</div>
        <div class="format-grid">
          <div class="format-box">
            <i class="fas fa-image"></i>
            <h4>圖像</h4>
            <p>.jpg, .png, .bmp, .webp, .avif</p>
            <p class="format-note">建議尺寸: 2000 × 1500 像素</p>
          </div>
          <div class="format-box">
            <i class="fas fa-sticky-note"></i>
            <h4>標註</h4>
            <p>各種標註格式</p>
          </div>
          <div class="format-box">
            <i class="fas fa-video"></i>
            <h4>影片</h4>
            <p>.mov, .mp4</p>
          </div>
          <div class="format-box">
            <i class="fas fa-file-pdf"></i>
            <h4>文件</h4>
            <p>.pdf</p>
          </div>
        </div>
      </div>

      <!-- 底部空間填充 -->
      <div style="height: 30px"></div>

      <!-- 底部操作按鈕 -->
      <div class="upload-actions">
        <button class="btn btn-secondary" onclick="navigateTo('index.html')">取消</button>
        <button class="btn btn-primary" id="continue-btn" onclick="continueToAnnotation()">
          <i class="fas fa-arrow-right"></i> 前往標註
        </button>
      </div>
    </div>
  </main>

  <!-- 引入統一功能模組 -->
  <script src="common.js"></script>
  <script src="upload.js"></script>

</body>
</html>